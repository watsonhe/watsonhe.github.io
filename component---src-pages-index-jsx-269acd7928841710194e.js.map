{"version":3,"file":"component---src-pages-index-jsx-269acd7928841710194e.js","mappings":"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","sources":["webpack://gatsby-starter-shopify/src/get-shopify-image.ts","webpack://gatsby-starter-shopify/src/index.ts","webpack://gatsby-starter-shopify/./src/components/product-card.jsx","webpack://gatsby-starter-shopify/./src/components/product-card.module.css","webpack://gatsby-starter-shopify/./src/components/product-listing.jsx","webpack://gatsby-starter-shopify/./src/components/product-listing.module.css","webpack://gatsby-starter-shopify/./src/pages/index.jsx","webpack://gatsby-starter-shopify/./src/pages/index.module.css","webpack://gatsby-starter-shopify/./src/utils/format-price.js"],"sourcesContent":[null,null,"import * as React from \"react\"\nimport { graphql, Link } from \"gatsby\"\nimport { GatsbyImage } from \"gatsby-plugin-image\"\nimport { getShopifyImage } from \"gatsby-source-shopify\"\nimport { formatPrice } from \"../utils/format-price\"\nimport {\n  productCardStyle,\n  productHeadingStyle,\n  productImageStyle,\n  productDetailsStyle,\n  productVendorStyle,\n  productPrice,\n} from \"./product-card.module.css\"\n\nexport function ProductCard({ product, eager }) {\n  const {\n    title,\n    priceRangeV2,\n    slug,\n    images: [firstImage],\n    vendor,\n    storefrontImages,\n  } = product\n\n  const price = formatPrice(\n    priceRangeV2.minVariantPrice.currencyCode,\n    priceRangeV2.minVariantPrice.amount\n  )\n\n  const defaultImageHeight = 200\n  const defaultImageWidth = 200\n  let storefrontImageData = {}\n  if (storefrontImages) {\n    const storefrontImage = storefrontImages.edges[0].node\n    try {\n      storefrontImageData = getShopifyImage({\n        image: storefrontImage,\n        layout: \"fixed\",\n        width: defaultImageWidth,\n        height: defaultImageHeight,\n      })\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  const hasImage = firstImage || Object.getOwnPropertyNames(storefrontImageData || {}).length\n\n  return (\n    <Link\n      className={productCardStyle}\n      to={slug}\n      aria-label={`View ${title} product page`}\n    >\n      {hasImage\n        ? (\n          <div className={productImageStyle} data-name=\"product-image-box\">\n            <GatsbyImage\n              alt={firstImage?.altText ?? title}\n              image={firstImage?.gatsbyImageData ?? storefrontImageData}\n              loading={eager ? \"eager\" : \"lazy\"}\n            />\n          </div>\n        ) : (\n          <div style={{ height: defaultImageHeight, width: defaultImageWidth }} />\n        )\n      }\n      <div className={productDetailsStyle}>\n        <div className={productVendorStyle}>{vendor}</div>\n        <h2 as=\"h2\" className={productHeadingStyle}>\n          {title}\n        </h2>\n        <div className={productPrice}>{price}</div>\n      </div>\n    </Link>\n  )\n}\n\nexport const query = graphql`\n  fragment ProductCard on ShopifyProduct {\n    id\n    title\n    slug: gatsbyPath(\n      filePath: \"/products/{ShopifyProduct.productType}/{ShopifyProduct.handle}\"\n    )\n    images {\n      id\n      altText\n      gatsbyImageData(aspectRatio: 1, width: 640)\n    }\n    priceRangeV2 {\n      minVariantPrice {\n        amount\n        currencyCode\n      }\n    }\n    vendor\n  }\n`\n","// extracted by mini-css-extract-plugin\nexport var productCardStyle = \"product-card-module--productCardStyle--23lnc\";\nexport var productDetailsStyle = \"product-card-module--productDetailsStyle--2N58r\";\nexport var productHeadingStyle = \"product-card-module--productHeadingStyle--ZH28N\";\nexport var productImageStyle = \"product-card-module--productImageStyle--E6wVT\";\nexport var productPrice = \"product-card-module--productPrice--HRUSo\";\nexport var productVendorStyle = \"product-card-module--productVendorStyle--dbtlX\";","import * as React from \"react\"\nimport { ProductCard } from \"./product-card\"\nimport { listingContainerStyle } from \"./product-listing.module.css\"\n\n// To optimize LCP we mark the first product card as eager so the image gets loaded faster\nexport function ProductListing({ products = [] }) {\n  return (\n    <div className={listingContainerStyle}>\n      {products.map((p, index) => (\n        <ProductCard product={p} key={p.id} eager={index === 0} />\n      ))}\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var listingContainerStyle = \"product-listing-module--listingContainerStyle--VRTI+\";","import * as React from \"react\"\nimport { graphql } from \"gatsby\"\nimport { Layout } from \"../components/layout\"\nimport { ProductListing } from \"../components/product-listing\"\nimport {\n  container,\n  intro,\n  callOut,\n  callToAction,\n  deployButton,\n} from \"./index.module.css\"\n\nexport const query = graphql`\n  query {\n    shopifyCollection(handle: { eq: \"frontpage\" }) {\n      products {\n        ...ProductCard\n      }\n    }\n  }\n`\nfunction Hero (props) {\n  return (\n    <div className={container}>\n      <h1 className={intro}>Welcome to the GatsbyJS + Shopify Demo Store.</h1>\n      {!!process.env.GATSBY_DEMO_STORE && (\n        <>\n          <p className={callOut}>\n            It's a proof-of-concept in a box, with 10k products and 30k variants\n            to help you get to proof-of-concept as soon as right now.\n          </p>\n          <p className={callToAction}>\n            Hook it up to your own Shopify store data and start customizing in\n            minutes by deploying it to Gatsby Cloud for free. Grab your Shopify\n            store credentials and\n            <a href=\"https://www.gatsbyjs.com/dashboard/deploynow?url=https://github.com/gatsbyjs/gatsby-starter-shopify&utm_campaign=shopify-starter\">\n              <img\n                src=\"https://www.gatsbyjs.com/deploynow.png\"\n                alt=\"Deploy to Gatsby Cloud\"\n                className={deployButton}\n              />\n            </a>\n          </p>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default function IndexPage({ data }) {\n  return (\n    <Layout>\n      <Hero />\n      <ProductListing products={data?.shopifyCollection?.products} />\n    </Layout>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var callOut = \"index-module--callOut--GH+Vc\";\nexport var callToAction = \"index-module--callToAction--q+uwD\";\nexport var container = \"index-module--container--+MMgw\";\nexport var deployButton = \"index-module--deployButton--zUjUy\";\nexport var intro = \"index-module--intro--N7LB6\";","/**\n * Formats a currency according to the user's locale\n * @param {string} currency The ISO currency code\n * @param {number} value The amount to format\n * @returns\n */\nexport const formatPrice = (currency, value) =>\n  Intl.NumberFormat(\"en-US\", {\n    currency,\n    minimumFractionDigits: 2,\n    style: \"currency\",\n  }).format(value)\n\nexport const getCurrencySymbol = (currency, locale = undefined) => {\n  if (!currency) {\n    return\n  }\n\n  const formatter = Intl.NumberFormat(locale, {\n    currency,\n    style: \"currency\",\n  })\n  const parts = formatter.formatToParts(100)\n  const { value: symbol } = parts.find((part) => part.type === \"currency\")\n  const formatted = formatter.format(100)\n  const symbolAtEnd = formatted.endsWith(symbol)\n  return { symbol, symbolAtEnd }\n}\n"],"names":["validFormats","Set","urlBuilder","width","height","baseUrl","format","has","console","warn","join","split","basename","version","dot","lastIndexOf","ext","slice","exports","_a","image","args","__rest","originalSrc","sourceWidth","sourceHeight","Object","formats","ProductCard","product","eager","title","priceRangeV2","slug","firstImage","images","vendor","storefrontImages","price","formatPrice","minVariantPrice","currencyCode","amount","storefrontImageData","storefrontImage","edges","node","getShopifyImage","layout","e","error","hasImage","getOwnPropertyNames","length","className","to","G","alt","altText","gatsbyImageData","loading","style","as","ProductListing","products","map","p","index","key","id","Hero","props","process","GATSBY_DEMO_STORE","href","src","IndexPage","data","shopifyCollection","currency","value","Intl","NumberFormat","minimumFractionDigits","getCurrencySymbol","locale","undefined","formatter","symbol","formatToParts","find","part","type","symbolAtEnd","endsWith"],"sourceRoot":""}